







 









<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <meta name="keywords" content="collection,ArrayList,HashMap,HashSet,Hashtable,LinkedList,Properties,sort,sorting,Stack,TreeMap,TreeSet,Vector,java,java programming,java practices,java idiom,java style,java design patterns,java coding conventions">
 <meta name="description" content="Concise presentations of java programming practices, tasks, and conventions, amply illustrated with syntax highlighted code examples.">
 
   <title>Java Practices: Choosing the right Collection</title>
  
 <STYLE type="text/css">
  BODY {
   font-family: Verdana, sans-serif;
   background-color: rgb(90%, 90%, 90%);
  }
  li {
    list-style-type: square;
  }
  .highlight {
    background-color: #FFFDE3;
  }
 </STYLE>
</head>
<body>
<table width="85%" align="CENTER" border=0 CELLSPACING="0" CELLPADDING="3">
<colgroup>
 <col width="100%">
</colgroup>



<tr>
 <td align=center>
  <form action='SearchResult.cjp' method=post>
  <a href="TableOfContents.cjp">
   Home</a> |
  <a href="Topic188.cjp">
   web4j</a> |
  <a href="PollSummary.cjp">
   Poll</a> |
  <a href="Suggestions.cjp">
   Feedback</a> |
  <a href="SourceCode.cjp">
   <b>Source Code</b></a><IMG SRC="images/goldstar.gif" ALT=""> |
  <a  href="References.cjp">
   Links</a>
   <font face=arial><input type=text name=searchString value="" size=12 maxlength=50> </font>
    <input type=submit  value="Search">
  </form>
 </td>
</tr>

</table>

<!-- END HEADER -->
<table width="85%" align="CENTER" border=0 CELLSPACING="0" CELLPADDING="3">
<colgroup><col width="100%"></colgroup>

<tr bgcolor="#003399">
 <td align=center><font size="+3" color=white>Choosing the right Collection</font></td>
</tr>
<tr>
 <td bgcolor=lightgrey><font face="system">Topic :</font></td>
</tr>

<tr>
 <td>
 
<br>Here is a guide for selecting the proper implementation of a <tt><a href="http://java.sun.com/javase/6/docs/api/java/util/Set.html">Set</a>,<a href="http://java.sun.com/javase/6/docs/api/java/util/List.html">List</a>,</tt>
or <tt><a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html">Map</a></tt>. It was compiled for Java 1.4. Many additions 
have been made to the <a href="http://java.sun.com/javase/6/docs/technotes/guides/collections/index.html">Collections Framework</a> since then (notably the 
<tt><a href="http://java.sun.com/javase/6/docs/api/java/util/Queue.html">Queue</a></tt> and 
<tt><a href="http://java.sun.com/javase/6/docs/api/java/util/Deque.html">Deque</a></tt> 
interfaces, and various items in <tt>java.util.concurrent</tt>).
These later additions have been omitted here, since this briefer summary should suffice for most cases.
<p>Sun documentation refers to <tt>ArrayList</tt>, <tt>HashMap</tt>, and
<tt>HashSet</tt>
as being the preferred "primary implementations". They are marked below
as " * ".&nbsp; Their overall performance is better, and you should use them
unless you need a special feature provided by another implementation. That
special feature is usually ordering or sorting.
<p>Here, "ordering" refers to the order of items returned by an <tt><a href="http://java.sun.com/javase/6/docs/api/java/util/Iterator.html">Iterator</a></tt>,
and "sorting" refers to sorting items according to <tt><a href="http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html">Comparable</a></tt>
or <tt><a href="http://java.sun.com/javase/6/docs/api/java/util/Comparator.html">Comparator</a></tt>.
<br>&nbsp;
<table BORDER CELLSPACING=0 WIDTH="100%" >
<tr>
<td>Interface</td>

<td>HasDuplicates?</td>

<td ALIGN=CENTER COLSPAN="5">Implementations</td>

<td>Historical</td>
</tr>

<tr>
<td><tt>Set</tt></td>

<td>no</td>

<td><tt><a href="http://java.sun.com/javase/6/docs/api/java/util/HashSet.html">HashSet</a></tt>*</td>

<td ALIGN=CENTER>...</td>

<td><tt><a href="http://java.sun.com/javase/6/docs/api/java/util/LinkedHashSet.html">LinkedHashSet</a></tt></td>

<td ALIGN=CENTER>...</td>

<td ALIGN=CENTER><tt><a href="http://java.sun.com/javase/6/docs/api/java/util/TreeSet.html">TreeSet</a></tt></td>

<td>
<center>...</center>
</td>
</tr>

<tr>
<td><tt>List</tt></td>

<td>yes</td>

<td ALIGN=CENTER>...</td>

<td><tt><a href="http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html">ArrayList</a></tt>*</td>

<td ALIGN=CENTER>...</td>

<td><tt><a href="http://java.sun.com/javase/6/docs/api/java/util/LinkedList.html">LinkedList</a></tt></td>

<td>
<center>...</center>
</td>

<td><tt><a href="http://java.sun.com/javase/6/docs/api/java/util/Vector.html">Vector</a>,
<a href="http://java.sun.com/javase/6/docs/api/java/util/Stack.html">Stack</a></tt></td>
</tr>

<tr>
<td><tt>Map</tt></td>

<td>no duplicate keys&nbsp;</td>

<td><tt><a href="http://java.sun.com/javase/6/docs/api/java/util/HashMap.html">HashMap</a></tt>*</td>

<td ALIGN=CENTER>...</td>

<td><tt><a href="http://java.sun.com/javase/6/docs/api/java/util/LinkedHashMap.html">LinkedHashMap</a></tt></td>

<td ALIGN=CENTER>...</td>

<td><tt><a href="http://java.sun.com/javase/6/docs/api/java/util/TreeMap.html">TreeMap</a></tt></td>

<td><tt><a href="http://java.sun.com/javase/6/docs/api/java/util/Hashtable.html">Hashtable</a>,
<a href="http://java.sun.com/javase/6/docs/api/java/util/Properties.html">Properties</a></tt></td>
</tr>
</table>

<p>Principal features of non primary implementations
<ul>
<li>
<tt>LinkedHashMap</tt> is ordered, and its general performance is almost
as good as <tt>HashMap</tt></li>

<li>
<tt>LinkedHashSet</tt> is ordered, and its general performance is almost
as good as <tt>HashSet</tt></li>

<li>
<tt>TreeSet</tt> is ordered and sorted, but slow</li>

<li>
<tt>TreeMap</tt> is ordered and sorted, but slow</li>

<li>
<tt>LinkedList</tt> has fast adding to the start of the list, and fast
deletion from the interior via iteration</li>
</ul>
Iteration order for all implementations
<ul>
<li>
<tt>HashSet</tt> - undefined</li>

<li>
<tt>LinkedHashSet</tt> - insertion order</li>

<li>
<tt>TreeSet</tt> - ascending order, according to <tt>Comparable</tt> /
<tt>Comparator</tt></li>

<li>
<tt>ArrayList</tt> - insertion order</li>

<li>
<tt>LinkedList</tt> - insertion order</li>

<li>
<tt>HashMap</tt> - undefined</li>

<li>
<tt>LinkedHashMap</tt>&nbsp; - insertion order of keys, or access order</li>

<li>
<tt>TreeMap</tt> - ascending order of keys, according to <tt>Comparable</tt>
/
<tt>Comparator</tt></li>
</ul>
For <tt>LinkedHashSet</tt> and <tt>LinkedHashMap</tt>, the re-insertion
of an item does not affect insertion order.
<p>For <tt>LinkedHashMap</tt>, access order is from the least recent access
to the most recent access. In this context, only calls to <tt>get</tt>,
<tt>put</tt>,
and <tt>putAll</tt> constitute an access, and only calls to these methods
affect access order.
<p>While being used in a <tt>Map</tt> or <tt>Set</tt>, these items must
not change state (hence, it is recommended that these items be immutable
objects):
<ul>
<li>
keys of a <tt>Map</tt></li>

<li>
items in a <tt>Set</tt></li>
</ul>
Sorting requires either that
<ul>
<li>
the stored items implement <tt>Comparable</tt></li>

<li>
a <tt>Comparator</tt> for the stored objects be defined</li>
</ul>
To retain the order of a <tt>ResultSet</tt> as specified in an ORDER BY
clause, insert the records into a <tt>List</tt> or an insertion order
<tt>LinkedHashMap</tt>.
<br>
<br>

 </td>
</tr>



<tr>
 <td bgcolor=lightgrey><font face="system">See Also :</font></td>
</tr>
<tr>
 <td>
  
  
   <a href="/Topic9.cjp">Use standard Collections</a><br>
  
   <a href="/Topic29.cjp">Immutable objects</a><br>
  
   <a href="/Topic10.cjp">Implementing compareTo</a><br>
  
   <a href="/Topic39.cjp">Prefer Collections over older classes</a><br>
  
 </td>
</tr>



<tr>
 <td bgcolor=lightgrey><font face="system">Would you use this technique?</font>
 </td>
</tr>
<tr>
 <td>
  <br>
  <form action="ThankYouMessage.cjp?Action=AddVote&TopicId=65" method=post>
    Yes<input type=radio name=VotingChoice value=Y >
    &nbsp;&nbsp;No<input type=radio name=VotingChoice value=N >
    &nbsp;&nbsp;Undecided<input type=radio name=VotingChoice value="?" >
    &nbsp;&nbsp;<input type=submit value="Vote" >
  </form>
 </td>
</tr>
<tr>
 <td bgcolor=lightgrey><font face="system">Add your comment to this Topic :</font></td>
</tr>
<tr>
 <td align=center>Comment :</td>
</tr>
<tr>
 <td align=center>
  <form action="ThankYouMessage.cjp?Action=AddComment&TopicId=65" method="post">
   <table width="85%" align="CENTER"  border=0 CELLSPACING="0" CELLPADDING="3">
    <tr><td align=center><textarea name=CommentText rows=8 cols=50></textarea></td></tr>
    <tr><td align=center><input type=submit value="Submit" ></td></tr>
   </table>
  </form>
 </td>
</tr>
</table>
<!-- START FOOTER -->




<table width="85%" align="CENTER" border=0 CELLSPACING="0" CELLPADDING="3">
<colgroup>
 <col width="100%">
</colgroup>
<tr>
 <td>&nbsp;</td>
</tr>



<tr>
<td align=center>
 &copy; 2007 John O'Hanley |
 <a href="SourceCode.cjp"><b>Source Code</b></a><IMG SRC="images/goldstar.gif" ALT=""> |
 <a href="mailto:webmaster@javapractices.com">Contact</a> |
 <a href="Sponsor.cjp">Sponsor This Site</a> |
 <a href="http://creativecommons.org/licenses/by-nc-sa/1.0/">License</a> |
 <a href="http://www.javapractices.com/apps/cjp.rss">RSS</a>
<!-- ukey="2AC36CD2" -->
<!-- ckey="16DF3D87" -->
</td>
</tr>

<tr><td align=center><font size="-1">
 Over 66,000 unique IPs (and 134,000 sessions) last month.
</font></td></tr>
<tr><td align=center><font size="-1">
 - In Memoriam : Bill Dirani -
</font></td></tr>


</table>
</body>
</html>
